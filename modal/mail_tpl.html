<div class="modal" tabindex="-1" role="dialog" ng-controller="storeCtrl">
  <div class="modal-dialog" style="width:785px;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" ng-click="$hide()">&times;</button>
        <h4 class="modal-title blue"><i class="fa fa-fw fa-envelope"></i> {{mail_tpl_store}} 信件模板管理</h4>
        <div class="modal-body">
          <div class="input-group col-lg-4">
            <input class="form-control input-sm" ng-model="new_tpl" type="text" placeholder="模板名">
            <span class="input-group-btn"><button ng-click="add_mail_tpl()" ng-disabled="!new_tpl" class="btn btn-success btn-sm"><i class="fa fa-plus fa-fw"></i>新 建</button></span>
          </div>
          <table class="table table-bordered table-condensed table-striped mt10 f12">
            <tr class="info">
              <td>序号</td>
              <td>模板</td>
              <td>操作</td>
            </tr>
            <tr ng-repeat="item in read_store_model track by $index">
              <td>{{$index+1}}</td>
              <td>{{item.model_name}}</td>
              <td>
                <button class="btn btn-primary btn-xs mr10" ng-click="edit_tpl(item.id)"><i class="fa fa-edit fa-fw"></i>编 辑</button>
                <button class="btn btn-warning btn-xs mr10" ng-click="is_rename=!is_rename"><i class="fa fa-asterisk fa-fw"></i>重命名</button>
                <button class="btn btn-default btn-xs mr10" ng-click="is_del=!is_del"><i class="fa fa-question-circle fa-fw"></i>删 除</button>
                <button class="btn btn-danger btn-xs" ng-disabled="!is_del" ng-click="del_mail_tpl(item.id)"><i class="fa fa-trash-o fa-fw"></i>删 除</button>
                <div ng-show="is_rename" class="input-group mt5 col-lg-6 col-lg-offset-3">
                <input class="form-control input-sm" id="rename_{{item.id}}" type="text" placeholder="新名字 ..">
                <span class="input-group-btn"><button ng-click="rename_mail_tpl(item.id);is_rename=!is_rename" class="btn btn-primary btn-sm">确 定</button></span>
                </div>
              </td>
            </tr>
          </table>

          <div ng-show="show_edit">
            <input class="form-control" ng-model="mail_tpl_topic" type="text" placeholder="主题">
              <div style="color:#000;height: 200px;" ng-model="mail_tpl_html" contenteditable="true"></div>
              <div class="mt10">
                <textarea rows="3" style="resize: none;" 
                          required="required"
                          placeholder="此处为客户邮箱无法读取富文本内容时所呈现的内容。请务必使用纯文本格式且不要使用回车。" 
                          class="form-control input-sm" 
                          ng-model="mail_tpl_txt"></textarea>  
              </div>
              <div class="input-group col-lg-6 col-lg-offset-6 mt10">
                <input class="form-control" ng-model="test_mail" type="text" placeholder="测试邮箱@xxx.com">
                <span class="input-group-btn"><button ng-click="test_send_mail('tpl')" ng-disabled="!test_mail" class="btn btn-primary"><i class="fa fa-send fa-fw"></i> 测 试</button></span>
              </div>
              <div class="mt20">
                <button type="button" class="btn btn-default pull-right btn-sm" ng-click="show_edit=false">关 闭</button>
                <button type="button" ng-disabled="" class="btn btn-info pull-right btn-sm mr10" ng-click="save_mail_tpl();show_edit=false"><i class="fa fa-fw fa-save"></i> 保 存</button>
                <div class="clearfix"></div>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>